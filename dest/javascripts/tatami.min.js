/*!
 * Tatami v0.1.1
 * http://ourai.github.io/tatami/
 *
 * Copyright 2013, 2014 Ourairyu, http://ourai.ws/
 *
 * Date: 2014-04-11
 */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n;d={name:"Miso",version:"0.1.1"},l={}.toString,e=/^[0-9A-Z_.]+[^_.]?$/i,j={validator:function(){}},k={core:{},types:{},modules:{Core:{BuiltIn:null}}},h=function(a,b){return null==a?!1:Object.prototype.hasOwnProperty.call(a,b)},i=function(a){var b;return b=null,n.isString(a)&&e.test(a)&&(b=k.modules,n.each(a.split("."),function(a){return void 0===b[a]&&(b[a]={}),b=b[a]})),b},g=function(a,b,c){var d;return d=this,n.isArray(c)?n.each(c,function(b){var c;return g.apply(d,["string"==typeof b[1]&&e.test(b[1])?i(b[1]):a,null!=(c=b[0])?c.handlers:void 0,b[0]])}):n.isObject(c)&&n.each(b,function(b){return f.apply(d,[a,b,c])}),!0},f=function(a,b,c){var d,e,f,g,i,k,l,m;if(f=b.name,!n.isFunction(a[f])){for(d=b.handler,k=h(b,"value")?b.value:c.value,i=[b.validator,c.validator,j.validator,function(){}],l=0,m=i.length;m>l&&(g=i[l],!n.isFunction(g));l++);e=function(){return n.isFunction(d)===!0&&g.apply(a,arguments)?d.apply(a,arguments):k},a[f]=e}return!0},b=function(){function a(){}return a.prototype.mixin=function(){var a,b,c,d,e,f,g,h;for(a=arguments,d=a.length,g=null!=(h=a[0])?h:{},c=1,1===d&&(g=this,c--);d>c;){if(f=a[c],"object"==typeof f)for(e in f)b=f[e],b!==g&&void 0!==b&&(g[e]=b);c++}return g},a.prototype.each=function(a,b){var c,d,e,f,g;if(f=this.type(a),"object"===f||"function"===f){for(e in a)if(g=a[e],b.apply(g,[g,e,a])===!1)break}else if("array"===f||"string"===f)for(d=0;d<a.length&&(c="array"===f?a[d]:a.charAt(d),b.apply(a[d],[c,d++,a])!==!1););return a},a.prototype.type=function(a){return null==a?String(a):k.types[l.call(a)]||"object"},a.prototype.slice=function(a,b){return null==a?[]:[].slice.call(a,Number(b)||0)},a.prototype.hasProp=function(){return h.apply(this,this.slice(arguments))},a}(),n=new b,n.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a){var b;return k.types["[object "+a+"]"]=b=a.toLowerCase(),n["is"+a]=function(a){return this.type(a)===b}}),n.mixin({isWindow:function(a){return a&&"object"===this.type(a)&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isInteger:function(a){return this.isNumeric(a)&&/^-?[1-9]\d*$/.test(a)},isPlainObject:function(a){var b,c;if(!a||"object"!==this.type(a)||a.nodeType||this.isWindow(a))return!1;try{if(a.constructor&&!this.hasProp(a,"constructor")&&!this.hasProp(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return b=d,!1}for(c in a);return void 0===c||this.hasProp(a,c)},isEmpty:function(a){var b,c;if(c=!1,null!=a&&a){if("object"===this.type(a)){c=!0;for(b in a){c=!1;break}}}else c=!0;return c},isArrayLike:function(a){var b,c,d;return c=!1,"object"===this.type(a)&&null!==a&&(this.isWindow(a)||(d=this.type(a),b=a.length,(1===a.nodeType&&b||"array"===d||"function"!==d&&(0===b||this.isNumber(b)&&b>0&&b-1 in a))&&(c=!0))),c}}),c=function(){function a(){var b,c,d,e;this.constructor=a,this.object={},b=arguments,c=b[0],d=b[1],(b.length<2||"object"!=(e=typeof d)&&"function"!==e)&&(d=this.object),g.apply(this,[d,null!=c?c.handlers:void 0,c])}return a.prototype.toString=function(){return"[object "+d.name+"]"},a.prototype.add=function(a){return f(a)},a}(),n.mixin(c,{__builtIn__:n,toString:function(){return"function "+d.name+"() { [native code] }"},config:function(a){return n.mixin(j,a)}}),m=c,a[d.name]=m}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;b={name:"Ronin",version:"0.2.1"},q={}.toString,c=/^[0-9A-Z_.]+[^_.]?$/i,o={validator:function(){}},p={modules:{Core:[]}},d=function(a,b,c,e){var f,g,h,i;return i=!1,g=this,h=g.isPlainObject(a),(h||e)&&c?i=b===a:(f=h?d.apply(g,[g.keys(a),g.keys(b),!1,!0]):b.length===a.length,f&&g.each(a,function(a,f){var h;return h=g.type(a),g.inArray(h,["string","number","boolean","null","undefined"])>-1?i=b[f]===a:g.inArray(h,["date","regexp","function"])>-1?i=c?b[f]===a:b[f].toString()===a.toString():g.inArray(h,["array","object"])>-1?i=d.apply(g,[a,b[f],c,e]):void 0})),i},p.modules.Core.push([{validator:function(){return!0},handlers:[{name:"alias",handler:function(b){return this.isString(b)&&void 0===a[b]&&(a[b]=this),a[String(b)]}},{name:"mask",handler:function(b){var c,d,e;if(this.hasProp(a,b))a.console&&console.error("'"+b+"' has existed as a property of Window object.");else{d=this.__meta__.name,a[b]=a[d];try{e=delete a[d]}catch(f){c=f,a[d]=void 0,e=!0}this.__meta__.name=b}return e},value:!1,validator:function(a){return this.isString(a)}},{name:"namespace",handler:function(){var b,c,d,e;return b=arguments,d=this,e={},c=b[0],d.isPlainObject(c)||(c=b[b.length-1]===!0?a:this),d.each(b,function(a){var b;return d.isString(a)&&/^[0-9A-Z_.]+[^_.]$/i.test(a)&&(b=c,d.each(a.split("."),function(a,c,d){return void 0===b[a]&&(b[a]=c===d.length-1?null:{}),b=b[a],!0}),e=b),!0}),e}},{name:"equal",handler:function(a,b,c){var e,f,g,h,i;return h=!1,f=this,i=f.type(a),f.type(b)===i&&(g=f.isPlainObject(a),(g&&f.isPlainObject(b)||"object"!==i)&&(e=f.isArray(a),g||e||(a=[a],b=[b]),f.isBoolean(c)||(c=!1),h=d.apply(f,[a,b,c,e]))),h}},{name:"random",handler:function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))}}]}]),p.modules.Core.push([{validator:function(){return!0},handlers:[{name:"keys",handler:function(a,b){var c;return c=[],this.each(a,function(a,d){return a===b?(c=d,!1):c.push(d)}),this.isArray(c)?c.sort():c},validator:function(a){var b;return!(null===a||a instanceof Array||"object"!=(b=typeof a)&&"function"!==b)},value:[]}]}]),k=function(a){return a instanceof Array},l=function(a){return this.isArray(a)||this.isPlainObject(a)},i=function(a,b,c,d,e){var f,g;if(g={value:a,computed:a},l.call(this,c)){if(f=this.isFunction(d),!f&&this.isArray(c)&&c[0]===+c[0]&&c.length<65535)return Math[b].apply(Math,c);this.each(c,function(a,c,h){var i;return i=f?d.apply(e,[a,c,h]):a,"max"===b&&i>g.computed||"min"===b&&i<g.computed?g={value:a,computed:i}:void 0})}return g.value},f=function(a){var b,c;return c=this,b=[],c.isArray(a)?c.each(a,function(a){return b=b.concat(f.call(c,a))}):b=a,b},g=function(a){var b;return b=/^([-+]?\d+)\.(\d+)$/,(b.test(a)?(a+"").match(b)[2]:"").length},n=function(a,b,c,d){var e;for(e=[];b>=a;)e.push(d?d(a):a),a+=c;return e},e=function(b,c,d,e,f){var g,h,i,j,k;return j=null,h=this,h.isFunction(c)&&(g="array"===(k=h.type(b))||"string"===k,null==d&&(d=a),h.isFunction(e)&&g?j=e.apply(b,[c,d]):(i=h.isPlainObject(b),i?j={}:g&&(j=[]),null!==j&&h.each(b,function(a,e){var k;return k=c.apply(d,[a,e,h.isString(b)?new String(b):b]),f(j,k,a,e,i,g),!0})),h.isString(b)&&(j=j.join(""))),j},p.modules.Core.push([{value:[],validator:function(a){return k(a)},handlers:[{name:"inArray",handler:function(a,b,c){var d,e,f;if(d=-1,e=Array.prototype.indexOf,f=b.length,c=c?0>c?Math.max(0,f+c):c:0,e)d=e.apply(b,[a,c]);else for(;f>c;){if(c in b&&b[c]===a){d=c;break}c++}return d},validator:function(a,b){return k(b)},value:-1},{name:"filter",handler:function(a,b,c){return e.apply(this,[a,b,c,[].filter,function(a,b,c,d,e,f){if(b){if(e)return a[d]=c;if(f)return a.push(c)}}])},validator:function(a){var b;return k(a)||"object"==(b=typeof a)||"string"===b},value:null},{name:"map",handler:function(a,b,c){return e.apply(this,[a,b,c,[].map,function(a,b,c,d){return a[d]=b}])},validator:function(a){var b;return k(a)||"object"==(b=typeof a)||"string"===b},value:null},{name:"product",handler:function(a){var b,c,d;return d=1,b=0,c=this,c.each(a,function(a){return c.isNumeric(a)?(b++,d*=a):void 0}),0===b?0:d},value:null},{name:"unique",handler:function(a,b){var c,d;return d=[],c=this,b=!!b,c.each(b?a.reverse():a,function(a){return c.isNumeric(a)&&(a=parseFloat(a)),-1===c.inArray(a,d)?d.push(a):void 0}),b&&(a.reverse(),d.reverse()),d},value:null},{name:"range",handler:function(a,b,c){var d,e,f,h,i,j,k,l,m;return m=[],j=this,c=j.isNumeric(c)&&1*c>0?1*c:1,j.isNumeric(a)&&j.isNumeric(b)?(f=g(a),i=g(b),h=g(c),e=Math.max(f,i,h),e>0?(e=1*j.zerofill(1,e+1),c*=e,d=function(a){return a/e}):e=1,a*=e,b*=e):(k=/^[a-z]$/,l=/^[A-Z]$/,a+="",b+="",(k.test(a)&&k.test(b)||l.test(a)&&l.test(b))&&(a=a.charCodeAt(0),b=b.charCodeAt(0),d=function(a){return String.fromCharCode(a)})),j.isNumber(a)&&j.isNumber(b)&&(m=a>b?n(b,a,c,d).reverse():b>a?n(a,b,c,d):[d?d(a):a]),m},validator:function(){return!0}},{name:"reduce",handler:function(b,c,d,e){var f,g,h,i,j,k,l;if(j=this,e=!!e,j.isArray(b))if(f=arguments,k=e?[].reduceRight:[].reduce,g=f.length>2,k)l=k.apply(b,g?[c,d]:[c]);else if(h=0,i=b.length,g||(d=b[0],h=1,i--),j.isFunction(c)){for(i=g?i:i+1;i>h;)d=c.apply(a,[d,b[h],h,b]),h++;l=d}return l},value:null},{name:"flatten",handler:function(a){return f.call(this,a)}},{name:"shuffle",handler:function(a){var b,c,d,e;return c=this,e=[],b=0,d=void 0,c.each(a,function(a){return d=c.random(b++),e[b-1]=e[d],e[d]=a,!0}),e},value:null},{name:"sum",handler:function(a){var b;return b=0/0,l.call(this,a)&&(b=0,this.each(a,function(a){return b+=1*a})),b},validator:function(){return!0},value:0/0},{name:"max",handler:function(b,c,d){return i.apply(this,[-1/0,"max",b,c,arguments.length<3?a:d])},validator:function(){return!0}},{name:"min",handler:function(b,c,d){return i.apply(this,[1/0,"min",b,c,arguments.length<3?a:d])},validator:function(){return!0}}]}]),j=function(a,b,c){var d,e,f;for(e=this,d=e.isRegExp(c)?c:new RegExp(c,"ig"),d.global||(d=new RegExp(d.source,"ig")),f=d.exec(a);f;)f.index<b&&(b+=f[0].length),f.lastIndex=0;return a.substring(0,b)},r=function(a){var b,c,d;return c=this,d=[],c.isString(a)&&(d=function(){var d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],f.push("\\u"+c.pad(Number(b.charCodeAt(0)).toString(16),4,"0").toUpperCase());return f}()),d.join("")},s=function(b){var c,d,e;return e=b,d=a.btoa,c=a.atob,this.isString(b)&&this.isFunction(d)&&(e=d(unescape(encodeURIComponent(b)))),e},p.modules.Core.push([{value:"",validator:function(a){return this.isString(a)},handlers:[{name:"pad",handler:function(a,b,c){var d,e,f;if((this.isString(c)===!1||1!==c.length)&&(c=" "),this.isInteger(b)||(b=0),a=String(a),d=1,f=String(c),e=Math.abs(b)-a.length,e>0){for(;e>d;)c+=f,d++;a=b>0?a+c:c+a}return a},validator:function(a){var b;return"string"==(b=typeof a)||"number"===b}},{name:"capitalize",handler:function(a,b){var c;return c="[a-z]+",a.replace(b===!0?new RegExp(c,"ig"):new RegExp(c),function(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()})}},{name:"camelCase",handler:function(a,b){var c;return a=a.toLowerCase().replace(/[-_\x20]([a-z]|[0-9])/gi,function(a,b){return b.toUpperCase()}),c=a.charAt(0),a=(b===!0?c.toUpperCase():c.toLowerCase())+a.slice(1)}},{name:"zerofill",handler:function(a,b){var c,d,e,f,g;return f="",d=this,g=/^([-+]?\d+)\.(\d+)$/,c=g.test(a),e="",b=parseInt(b),b>0&&c?(a=(a+"").match(g),e=""+1*a[1]+".",a=a[2]):0>1*a&&(e="-",a=(a+"").substring(1)),f=d.pad(a,b,"0"),f=0>b&&c?"":e+f},validator:function(a,b){return this.isNumeric(a)&&this.isNumeric(b)&&/^-?[1-9]\d*$/.test(b)}},{name:"trim",handler:function(a){var b,c;return c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b="".trim,b&&!b.call("﻿ ")?b.call(a):a.replace(c,"")}},{name:"substr",handler:function(a,b,c,d){var e,f;return e=arguments,f=this,3===e.length&&f.isNumeric(b)&&b>0&&(f.isString(c)||f.isRegExp(c))?a=j.apply(f,[a,b,c]):f.isNumeric(b)&&b>=0&&((!f.isNumeric(c)||0>=c)&&(c=a.length),a=f.isString(d)||f.isRegExp(d)?j.apply(f,[a.substring(b),c,d]):a.substring(b,c)),a}},{name:"countChars",handler:function(a,b){var c,d,e,f;switch(f=null,e=this,(!e.isInteger(b)||0>b)&&(b=0),c={},d=[],e.each(a,function(a){var b;return b=a.charCodeAt(0),e.isNumber(c[b])?c[b]++:(c[b]=1,e.inArray(a,d)<0?d.push(a):void 0)}),b){case 0:break;case 1:f=c;break;case 2:break;case 3:f=d.join("");break;case 4:}return f},value:null}]}]),p.modules.Core.push([{validator:function(){return!0},handlers:function(){var a,b;a=Miso.__builtIn__,b=[];for(m in a)h=a[m],b.push({name:m,handler:h});return b}()}]),t=function(){},new Miso(p.modules.Core,t),t.mixin({__meta__:b}),a[b.name]=t}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g;b={name:"Matcha",version:"0.1.1"},g={},f={hook:{tabs:{component:"tabs",trigger:"tabs-trigger",content:"tabs-content"}}},d=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},e=function(a,b){return(b===!0?"":".")+"js-"+$.camelCase(c("hook."+a))},c=function(a){var b,c;return b=a.split("."),c=f,$.each(b,function(a,b){var e;return e=d(c,b),c=c[b],e}),c},a[b.name]=g}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;l={name:"Tatami",version:"0.1.1"},i=1,c=2,p=3,d=4,k=5,j=6,n=7,e=8,g=9,h=10,f=11,m=12,o=/^[0-9A-Z_.]+[^_.]?$/i,b=jQuery,O={lang:document.documentElement.lang||document.documentElement.getAttribute("lang")||navigator.language||navigator.browserLanguage},P=Ronin,P.mask(l.name),P.__meta__=l,L={storage:!!a.localStorage},C={key:{storage:["sandboxStarted","config","fn","buffer","pool","i18n","web_api"]}},K={sandboxStarted:!1,config:{debug:!0,platform:"",api:"",locale:O.lang,lang:O.lang.split("-")[0]},fn:{prepare:[],ready:[],init:{systemDialog:b.noop,ajaxHandler:function(a,c){return{success:function(d){var e;return e=P.slice(arguments),d.code>0?P.isFunction(a)?a.apply(b,e):void 0:P.isFunction(c)?c.apply(b,e):M("alert",d.message)},error:b.noop}}},handler:{}},buffer:{},pool:{},i18n:{_SYS:{dialog:{zh:{title:"系统提示",close:"关闭",ok:"确定",cancel:"取消",yes:"是",no:"否"},en:{title:"System",close:"Close",ok:"Ok",cancel:"Cancel",yes:"Yes",no:"No"}}}},web_api:{}},A=function(a){return P.slice(a,-1)[0]},J=function(){return b.ajaxSetup({type:"post",dataType:"json"}),b(document).ajaxError(function(a,b){var c;return c=b.responseText,!1})},M=function(c,d,e,f){var g,h,i,j;return j=!1,P.isString(c)&&(c=c.toLowerCase(),P.isFunction(b.fn.dialog)?(i="systemDialog",h=K.i18n._SYS.dialog[P.config("lang")],P.hasProp(K.pool,i)||(K.pool[i]={}),g=K.pool[i][c],g||(g=b('<div data-role="dialog" data-type="system" />').appendTo(b("body")).on({dialogcreate:x("systemDialog"),dialogopen:function(){return b(".ui-dialog-buttonset .ui-button",b(this).closest(".ui-dialog")).each(function(){var a;switch(a=b(this),P.trim(a.text())){case h.ok:c="ok";break;case h.cancel:c="cancel";break;case h.yes:c="yes";break;case h.no:c="no"}return a.addClass("ui-button-"+c)})}}).dialog({title:h.title,width:400,minHeight:100,closeText:h.close,modal:!0,autoOpen:!1,resizable:!1,closeOnEscape:!1}),K.pool[i][c]=g,g.closest(".ui-dialog").find(".ui-dialog-titlebar-close").remove()),j=N(c,d,e,f)):(j=!0,"alert"===c?a.alert(d):a.confirm(d)?P.isFunction(e)&&e():P.isFunction(f)&&f())),j},N=function(a,c,d,e){var f,g,h,i,j,k;return k=K.i18n._SYS.dialog[P.config("lang")],j=function(a,c){return b(this).dialog("close"),P.isFunction(a)&&a(),c},g=[],f={ok:k.ok,cancel:k.cancel,yes:k.yes,no:k.no},h=K.pool.systemDialog[a],i=b("[data-role='dialog-content']",h),0===i.size()&&(i=h),"confirm"===a?(g.push({text:f.ok,click:function(){return j.apply(this,[d,!0]),!0}}),g.push({text:f.cancel,click:function(){return j.apply(this,[e,!1]),!0}})):"confirmex"===a?(g.push({text:f.yes,click:function(){return j.apply(this,[d,!0]),!0}}),g.push({text:f.no,click:function(){return j.apply(this,[e,!1]),!0}}),g.push({text:f.cancel,click:function(){return j.apply(this,[null,!1]),!0}})):(a="alert",null!==d?g.push({text:f.ok,click:function(){return j.apply(this,[d,!0]),!0}}):g=null),i.html(c||""),h.dialog("option","buttons",g).dialog("open")},r=function(){var a,b,c,d,e,f;if(a=arguments,f=a[0],e=a[1],b=K.fn.handler,0===a.length)e=s(b);else if(P.isString(f))P.isFunction(e)?b[f]=e:e=b[f];else if(P.isPlainObject(f))for(d in f)c=f[d],P.isFunction(c)&&(b[d]=c);return e},G=function(b){var c,d,e,f;if(d=null,P.isArray(b))for(e=0,f=b.length;f>e;e++)c=b[e],(P.isFunction(c)||P.isFunction(c=K.fn.handler[c]))&&c.call(a);else P.isString(b)&&(c=K.fn.handler[b],P.isFunction(c)&&(d=c.apply(a,P.slice(arguments,1))));return d},D=function(a,b){return P.isFunction(a)?K.fn[b].push(a):void 0},s=function(a){var c;return c=null,P.isArray(a)||void 0!==a.length?c=[].concat([],P.slice(a)):P.isPlainObject(a)&&(c=b.extend(!0,{},a)),c},x=function(a){return K.fn.init[a]},v=function(a,c){var d,e;return d=a.split("."),e=null,(c||!z(d[0],C.key.storage))&&(e=K,b.each(d,function(a,b){var c;return c=P.hasProp(e,b),e=e[b],c})),e},I=function(a,c){var d,e,f,g,h;return g=a.split("."),f=g.length,d=P.isPlainObject(c),1===f?(e=g[0],h=H(K,e,c,P.hasProp(K,e))):(h=K,b.each(g,function(a,b){return f-1>a?P.hasProp(h,b)||(h[b]={}):h[b]=H(h,b,c,P.isPlainObject(h[b])),h=h[b],!0})),h},H=function(a,c,d,e){return e&&P.isPlainObject(d)?b.extend(!0,a[c],d):a[c]=d,a[c]},y=function(a,b,c){return P.isObject(a)&&P.isString(b)&&P.hasProp(a,b)&&P.type(a[b])===c},z=function(a,c){return b.inArray(a,c)>-1},B=function(a){return C.key.storage.push(a)},P.mixin({alert:function(a,b){return M("alert",a,b)},confirm:function(a,b,c){return M("confirm",a,b,c)},confirmEX:function(a,b,c){return M("confirmEX",a,b,c)},queue:function(){return r.apply(a,this.slice(arguments))},run:function(){return G.apply(a,this.slice(arguments))},url:function(){var c,d;return c=a.location,d={search:c.search.substring(1),hash:c.hash.substring(1),query:{}},b.each(d.search.split("&"),function(a,b){return b=b.split("="),""!==P.trim(b[0])?d.query[b[0]]=b[1]:void 0}),d},download:function(b,c){var d,e,f;return a.ActiveXObject?a.ActiveXObject&&document.execCommand?(f=a.open(b,"_blank"),f.document.close(),f.document.execCommand("SaveAs",!0,c||b),f.close()):void 0:(e=document.createElement("a"),e.href=b,e.target="_blank",e.download=c||"unknown",d=document.createEvent("Event"),d.initEvent("click",!0,!0),e.dispatchEvent(d),(a.URL||a.webkitURL).revokeObjectURL(e.href))},functionExists:function(b,c){return y(c===!0?a:K.fn.handler,b,"function")}}),F=function(a){return s(P.isPlainObject(a)?b.extend(K.config,a):K.config)},P.mixin({sandbox:function(a){var c;return K.sandboxStarted!==!0&&(c=F(a),G(K.fn.prepare),b(document).ready(function(){return G(K.fn.ready)}),K.sandboxStarted=!0),c||!1},prepare:function(a){return D(a,"prepare")},ready:function(a){return D(a,"ready")}}),w=function(){var a,c,d;return a=arguments,d=a[0],c=a[1],P.isPlainObject(d)?b.each(d,w):P.isString(d)&&P.hasProp(K.fn.init,d)&&P.isFunction(c)?K.fn.init[d]=c:void 0},q=function(){var a;return a=P.config("api"),P.isString(a)&&""!==P.trim(a)?"/"+a:""},P.mixin({config:function(a){return this.isString(a)?K.config[a]:s(K.config)},init:function(){return w.apply(a,this.slice(arguments))},i18n:function(){var a,c,d,e;return a=arguments,d=a[0],e=null,this.isPlainObject(d)?b.extend(K.i18n,d):o.test(d)&&(c=a[1],2===a.length&&this.isString(c)&&!o.test(c)||(this.isPlainObject(c)?(e=v("i18n."+d,!0),e=(this.isString(e)?e:"").replace(/\{%\s*([A-Z0-9_]+)\s*%\}/gi,function(a,b){return c[b]})):(e="",b.each(a,function(a,b){var c;return P.isString(b)&&o.test(b)?(c=v("i18n."+b,!0),e+=P.isString(c)?c:""):void 0})))),e},api:function(){var a,c,d,e,f,g,h,i;return a=arguments,d=a[0],g=null,this.isPlainObject(d)?b.extend(K.web_api,d):this.isString(d)&&(f=/^([a-z]+)_/,e=(null!=(i=d.match(f))?i:[])[1],c=a[1],h=void 0,b.each(["front","admin"],function(a,b){return e===b?(h=b,!1):void 0}),h?d=d.replace(f,""):h="common",g=q()+v("web_api."+h+"."+d,!0),this.isPlainObject(c)&&(g=g.replace(/\:([a-z_]+)/g,function(a,b){return c[b]}))),g}}),u=function(a){var c,d;return c={},d=a.match(/<[a-z]+[^>]*>/i),null!==d&&b.each(d[0].match(/(data(-[a-z]+)+=[^\s>]*)/gi)||[],function(a,b){return b=b.match(/data-(.*)="([^\s"]*)"/i),c[P.camelCase(b[1])]=b[2],!0}),c},t=function(a){var d;return d={},b.each(a,function(a,b){var e;return b.nodeType===c&&(e=b.nodeName.match(/^data-(.*)$/i))&&(d[P.camelCase(e(1))]=b.nodeValue),!0}),d},P.mixin({data:function(){var a,c,d,e,f,g;if(a=arguments,d=a.length,d>0){g=a[0];try{e=b(g).get(0)}catch(h){c=h,e=g}e&&e.nodeType===i?(f={},e.dataset?f=e.dataset:e.outerHTML?f=u(e.outerHTML):e.attributes&&b.isNumeric(e.attributes.length)&&(f=t(e.attributes))):this.isString(g)&&o.test(g)&&(f=1===d?v(g):I(g,a[1]),d>1&&A(a)===!0&&B(g.split(".")[0]))}return null!=f?f:null},save:function(){var a,c,d,e;return a=arguments,c=a[0],e=a[1],L.storage&&this.isString(c)?(d=this.access(c),localStorage.setItem(c,escape(this.isPlainObject(d)?JSON.stringify(b.extend(d,e)):e))):void 0},access:function(){var a,b,c;if(b=arguments[0],this.isString(b)&&L.storage&&(c=localStorage.getItem(b),null!==c)){c=unescape(c);try{c=JSON.parse(c)}catch(d){a=d,c=c}}return c||null}}),E=function(a,c,d,e){var f;if(0!==arguments.length)return P.isPlainObject(a)===!1&&(a={url:a}),f=x("ajaxHandler")(c,d),P.isFunction(a.success)||(a.success=f.success),P.isFunction(a.error)||(a.error=f.error),b.ajax(b.extend(a,{async:e!==!0}))},P.mixin({ajax:function(a,b,c){return E(a,b,c)},sjax:function(a,b,c){return E(a,b,c,!0)}}),P.mixin({encodeEntities:function(a){return this.isString(a)?a.replace(/([<>&\'\"])/,function(a,b){var c;switch(b){case"<":c=lt;break;case">":c=gt;break;case'"':c=quot;break;case"'":c=apos;break;case"&":c=amp}return"&"+c+";"}):a},decodeEntities:function(){}}),a[l.name]=P});
//# sourceMappingURL=tatami.min.map